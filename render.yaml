# Render.com deployment configuration
version: 2
services:
  - name: voice-detection-api
    type: web
    runtime: python
    buildCommand: pip install -r requirements_voice_api.txt
    startCommand: gunicorn --bind 0.0.0.0:$PORT --workers 2 --timeout 120 voice_detection_api:app
    plan: free
    env:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: GEMINI_API_KEY
        sync: false  # Set manually in Render dashboard
      - key: API_SECRET_KEY
        sync: false  # Set manually in Render dashboard
    scaling:
      minInstances: 1
      maxInstances: 1